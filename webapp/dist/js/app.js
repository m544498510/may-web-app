define("common/message/msgManager",[],function(){function t(t,a){var e,s=n[t];if(s)for(var i in s)e=s[i].callback,e&&"function"==typeof e&&e(a)}function a(t,a,e){var s=n[t];if(s)for(var i=0;i<e.length;i++){var r=s[e[i]];r&&r.callback&&"function"==typeof r.callback&&r.callback(a)}}function e(t,a,e){var s=n[t];s||(s={},n[t]=s),s[a]={id:a,callback:e}}function s(t,a){var e=n[t];e&&delete e[a]}var n={};return{sendMsg:a,broadcastMsg:t,addMsgListener:e,removeMsgListener:s}}),define("managerApp/task/taskList/taskListDataService",["jquery"],function(t){function a(a){t.ajax({url:"./task/getTask.json?task_status=0&pagesize=5&pagenum=1",type:"GET",success:function(t){a(t)}})}return{get:a}}),define("managerApp/task/taskList/taskListService",["common/message/msgManager","managerApp/task/taskList/taskListDataService"],function(t,a){function e(){a.get(function(a){o=s(a.result),t.broadcastMsg("taskListChange",o)})}function s(t){for(var a=[],e=0;e<t.length;e++){var s=n(t[e]);a.push(s)}return a}function n(t){var a=i(t);return a.finish=Math.floor(100*a.finish_per)+"%",a=i(u[a.tasktype],a),(3===a.task_status||4===a.task_status)&&(a.buttonVal="去查看",a.typeClass="task-stop"),1==a.finish_per&&(a.typeClass+=" task-finish"),a}function i(t,a){a=a?a:{};for(var e in t)a[e]=t[e];return a}function r(){return{1:{typeName:"翻译",buttonVal:"去翻译",typeClass:"task-trans"},2:{typeName:"编辑",buttonVal:"去编辑",typeClass:"tansk-edit"},3:{typeName:"校对",buttonVal:"去校对",typeClass:"tansk-collate"}}}var o,u=r();return{queryTaskList:e}}),define("managerApp/task/taskList/taskListViewModule",["jquery","artTemplate","common/message/msgManager","managerApp/task/taskList/taskListService"],function(t,a,e,s){function n(){i(),o()}function i(){e.addMsgListener("taskListChange",u,r)}function r(e){var s=a("task_taskList_tpl",{list:e});t("#taskListContainer").html(s)}function o(){s.queryTaskList()}var u="taskListViewModule";return{name:u,init:n,queryTaskList:o}}),define("managerApp/task/testController",["jquery","artTemplate","common/message/msgManager","managerApp/task/taskList/taskListService"],function(t,a,e,s){function n(t,a){return t+a}function i(){var a="<h1>router test</h1>";a+='<div id="routerTest"></div>',a+='<a href="frame/test1#/myTask">go to myTask</a>',t("#taskListContainer").html(a),r()}function r(){e.addMsgListener("taskListChange",u,o)}function o(){console.log("testController get msg")}var u="testController";return{name:u,init:i,add:n}}),requirejs.config({baseUrl:"./dist/js/",paths:{jquery:"../lib/jquery/dist/jquery.min",artTemplate:"../lib/artTemplate/dist/template",StateMan:"../lib/stateman/stateman.min"},shim:{}}),requirejs(["StateMan","managerApp/task/taskList/taskListViewModule","managerApp/task/testController"],function(t,a,e){var s=new t;s.state("myTask",function(){a.init()}).state("myRouterTest",function(){e.init()}).on("notfound",function(){this.go("myTask")}).start()}),define("managerApp/managerApp.main",["StateMan","managerApp/task/taskList/taskListViewModule","managerApp/task/testController"],function(){});